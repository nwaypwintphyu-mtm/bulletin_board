<div class="w-50 m-auto p-2">
    <i class="fs-5 fa-solid fa-arrow-left"></i>
    <%= link_to "Back to Profile", user_profile_path %>
</div>
<div class="w-50 m-auto" style="border:1px solid green;padding:0px; padding-bottom:20px;border-radius:5px">
  <div class="bg-success p-2  text-light">Profile Edit</div>
  <%= form_with(model: @user, local: true) do |form| %>
  <table style="width:100%" class="mt-3">
    <tr>
        <td><div class="d-flex justify-content-end"><%= form.label :name ,"Name" %><span class="text-danger ms-2">*</span></div></td>
        <td><%= form.text_field :name,  class: "form-control my-1 m-auto w-75", required: true %>
            <% if @user.errors[:name].any? %>
                <span class="text-danger"><%= @user.errors[:name].first %></span>
            <% end %>
        </td>
    </tr>
    <tr>
        <td><div class="d-flex justify-content-end"><%= form.label :email ,"Email" %><span class="text-danger ms-2">*</span></div></td>
        <td><%= form.text_field :email,  class: "form-control my-1 m-auto w-75", required: true  %>
            <% if @user.errors[:email].any? %>
                <span class="text-danger"><%= @user.errors[:email].first %></span>
            <% end %>
        </td>
    </tr>
    <tr>
        <td><div class="d-flex justify-content-end"><%= form.label :utype ,"Type" %></div></td>
        <td> <%= form.select :utype, [["User ", 1], ["Admin", 0]], { include_blank: false }, { class: 'w-75 my-1 m-auto form-select' } %>
        </td>
    </tr>
    <tr>
      <td><div class="d-flex justify-content-end"><%= form.label :phone ,"Phone" %></div></td>
      <td><%= form.text_field :phone,  class: "form-control my-1 m-auto w-75" %></td>
    </tr>
    <tr>
      <td><div class="d-flex justify-content-end"><%= form.label :dob ,"Date of Birth" %></div></td>
      <td><%= form.date_field :dob,  class: "form-control my-1 m-auto w-75" %></td>
    </tr>
    <tr>
      <td><div class="d-flex justify-content-end"><%= form.label :address ,"Address" %></div></td>
      <td><%= form.text_field :address,  class: "form-control my-1 m-auto w-75" %></td>
    </tr>
    <tr>
      <td><div class="d-flex justify-content-end"><%= form.label :profile ,"Old Profile" %></div></td>
      <td> <div class="my-1 m-auto w-75"><%= image_tag(@user.profile.url, class: "main-profile-image") if @user.profile.present? %><div></td>
    </tr>
    <tr>
      <td><div class="d-flex justify-content-end"><%= form.label :profile ,"New Profile" %></div></td>
      <td><%= form.file_field :profile,  class: "form-control my-1 m-auto w-75" %></td>
    </tr>
    <tr>
      <td></td>
      <td>
          <div class="my-1 w-75 m-auto d-flex">
            <%= form.submit "Edit", name: "commit", value: "edit", class: "btn btn-primary"  %>
            <%= form.submit "Clear", name: "commit", value: "clear", class: "btn btn-secondary mx-1" %>
            <%= link_to "Change Password", change_password_path %>
          </div>
      </td>
    </tr>
   </table>
  <% end %>
</div>